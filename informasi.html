<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informasi - Desa Wisata Andalan Lembanna</title>
    <meta name="description" content="Informasi terkini tentang berita dan agenda kegiatan Desa Wisata Andalan Lembanna, Bulukumba, Sulawesi Selatan.">
    <link rel="stylesheet" href="asset2/css/styles.css">
    <link rel="stylesheet" href="asset/css/profil-responsive.css">
    <link rel="stylesheet" href="asset2/css/informasi-styles.css">
    <link rel="stylesheet" href="asset2/css/loading-screen.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/gh/michalsnik/aos@2.3.1/dist/aos.css" rel="stylesheet">
<style>
/* Disable legacy hamburger on this page */
.hamburger { display: none !important; }
/* Prevent legacy overlay nav on mobile */
@media (max-width: 900px){
  .mobile-menu-list { display: none !important; }
  .main-nav { display: none !important; }
}
</style>
</head>
<body class="informasi-page">
    <!-- Navigation -->
    <div class="nav-wrapper" id="navinfo">
        <nav>
            <div class="logo">
                <img src="asset/img/profil-desa/logo-1.jpeg" alt="Logo Desa Lembanna" loading="lazy" decoding="async">
                <a href="index.html">Desa Lembanna</a>
            </div>
            <div class="main-nav">
                <ul class="nav-links">
                    <li class="has-submenu">
                        <a href="index.html">Beranda</a>
                    </li>
                    <li class="has-submenu">
                        <a href="profil.html">Profil Desa</a>
                    </li>
                    <li class="has-submenu">
                        <a href="wisata.html">Wisata</a>
                    </li>
                    <li class="has-submenu">
                        <a href="Layanan.html">Layanan</a>
                    </li>
                    <li class="has-submenu">
                        <a href="informasi.html">Informasi</a>
                    </li>
                </ul>
            </div>
            <div class="hamburger">
                <div class="line"></div>
                <div class="line"></div>
                <div class="line"></div>
            </div>
        </nav>
    </div>

    <!-- Header Section -->
    <header class="info-header">
        <div class="header-content">
            <h1 class="page-title">INFORMASI</h1>
            <p class="page-subtitle">Berita Terkini & Agenda Kegiatan Desa Lembanna</p>
        </div>
        <div class="header-decoration">
            <div class="decoration-wave"></div>
        </div>
    </header>

    <main class="info-main">
        <!-- Menu Navigation -->
        <section class="info-nav-section">
            <div class="container">
                <div class="info-nav-tabs">
                    <button class="tab-button active" data-tab="berita">
                        <i class="fas fa-newspaper"></i>
                        <span>Berita Desa</span>
                    </button>
                    <button class="tab-button" data-tab="agenda">
                        <i class="fas fa-calendar-alt"></i>
                        <span>Agenda Kegiatan</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- Berita Section -->
        <section id="berita" class="content-section active">
            <div class="container">
                <div class="section-header">
                    <h2>Berita Terkini</h2>
                    <p>Ikuti perkembangan dan kabar terbaru dari Desa Lembanna</p>
                </div>

                <div class="news-carousel-container">
                    <div class="news-carousel">
                        <div class="news-track" id="newsTrack">
                            <!-- News Item 1 -->
                            <article class="news-card" data-news-id="1">
                                <div class="news-image">
                                    <img src="asset2/WhatsApp-Image-2025-09-22-at-14.32.36.jpeg" alt="Festival Pinisi 2025">
                                    <div class="news-overlay">
                                        <i class="fas fa-eye"></i>
                                        <span>Lihat Detail</span>
                                    </div>
                                </div>
                                <div class="news-content">
                                    <div class="news-meta">
                                        <span class="news-date">
                                            <i class="fas fa-calendar"></i>
                                            23-25 Oktober 2025
                                        </span>
                                        <span class="news-category">Festival</span>
                                    </div>
                                    <h3 class="news-title">Festival Pinisi XV Tahun 2025</h3>
                                    <p class="news-excerpt">
                                        Festival Pinisi ke-15 kembali diselenggarakan dengan tema "Kolaborasi Budaya untuk Pariwisata Berkelanjutan" di Pantai Merpati, Ujung Bulu, Bulukumba...
                                    </p>
                                </div>
                            </article>

                            <!-- News Item 2 -->
                            <article class="news-card" data-news-id="2">
                                <div class="news-image">
                                    <img src="asset2/271118471-478620510526145-5872794765977441776-n-da8d38c789b465218f295612fb813f37-a9b54e8976e54a683aff85ccc323c106.webp" alt="Festival Budaya">
                                    <div class="news-overlay">
                                        <i class="fas fa-eye"></i>
                                        <span>Lihat Detail</span>
                                    </div>
                                </div>
                                <div class="news-content">
                                    <div class="news-meta">
                                        <span class="news-date">
                                            <i class="fas fa-calendar"></i>
                                            19 Agustus 2022
                                        </span>
                                        <span class="news-category">Pemandangan</span>
                                    </div>
                                    <h3 class="news-title">10 Potret Pantai Mandala Ria di Bulukumba, Ada Kapal Pinisi!</h3>
                                    <p class="news-excerpt">
                                        Mengunjungi Kabupaten Bulukumba, Sulawesi Selatan, gak bakal lengkap kalau tidak mengunjungi destinasi pantainya...
                                    </p>
                                </div>
                            </article>

                            <!-- News Item 3 -->
                            <article class="news-card" data-news-id="3">
                                <div class="news-image">
                                    <img src="asset2/WhatsApp Image 2025-08-19 at 21.18.00.jpeg" alt="Program UMKM">
                                    <div class="news-overlay">
                                        <i class="fas fa-eye"></i>
                                        <span>Lihat Detail</span>
                                    </div>
                                </div>
                                <div class="news-content">
                                    <div class="news-meta">
                                        <span class="news-date">
                                            <i class="fas fa-calendar"></i>
                                            -
                                        </span>
                                        <span class="news-category">Atraksi</span>
                                    </div>
                                    <h3 class="news-title">Atraksi Pariwisata di Kabupaten Bulukumba</h3>
                                    <p class="news-excerpt">
                                        Profil Daya Tarik Pariwisata Sekitar...
                                    </p>
                                </div>
                            </article>

                            <!-- News Item 4 -->
                            <article class="news-card" data-news-id="4">
                                <div class="news-image">
                                    <img src="asset2/WhatsApp Image 2025-09-23 at 22.09.13_e24e07ee.jpg" alt="Konservasi Lingkungan">
                                    <div class="news-overlay">
                                        <i class="fas fa-eye"></i>
                                        <span>Lihat Detail</span>
                                    </div>
                                </div>
                                <div class="news-content">
                                    <div class="news-meta">
                                        <span class="news-date">
                                            <i class="fas fa-calendar"></i>
                                            -
                                        </span>
                                        <span class="news-category">Pengumuman</span>
                                    </div>
                                    <h3 class="news-title">Festival Pinisi XV Diundur ke 23-25 Oktober 2025 Untuk Kolaborasi Budaya dan Ekonomi</h3>
                                    <p class="news-excerpt">
                                        Bulukumba, - Pemerintah Kabupaten Bulukumba melalui Dinas Pariwisata, Pemuda, dan Olahraga (Disparpora) mengumumkan...
                                    </p>
                                </div>
                            </article>


                        </div>
                    </div>

                    <!-- Carousel Controls -->
                    <button class="carousel-btn prev-btn" id="prevBtn" aria-label="Previous">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="carousel-btn next-btn" id="nextBtn" aria-label="Next">
                        <i class="fas fa-chevron-right"></i>
                    </button>

                    <!-- Carousel Indicators -->
                    <div class="carousel-indicators">
                        <span class="indicator active" data-slide="0"></span>
                        <span class="indicator" data-slide="1"></span>
                        <span class="indicator" data-slide="2"></span>
                        <span class="indicator" data-slide="3"></span>
                    </div>

                    <!-- Scroll Indicator (Mobile Only) -->
                    <div class="scroll-indicator">
                        <span class="scroll-indicator-text">Geser untuk melihat</span>
                        <div class="scroll-arrows">
                            <div class="scroll-arrow"></div>
                            <div class="scroll-arrow"></div>
                            <div class="scroll-arrow"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Agenda Section -->
        <section id="agenda" class="content-section">
            <div class="container">
                <div class="section-header">
                    <h2>Agenda Kegiatan</h2>
                    <p>Jadwal kegiatan dan acara yang akan dilaksanakan di Desa Lembanna</p>
                </div>


                <div class="agenda-grid">
                    <article class="agenda-card" data-aos="fade-up" data-aos-delay="100" data-external-link="https://disparpora.bulukumbakab.go.id/event/festival-pinisi-tahun-2025/?fbclid=IwQ0xDSwM9_-9jbGNrAz3_ymV4dG4DYWVtAjExAAEek1hZFMAQdHvyKZAniEbfcUfkXK4-Y1jXVYyVNtHY0nqEw9j1TCf2oYbIcao_aem_KWWAICtUYzcE6wZ9XzaScA&sfnsn=wiwspwa" style="cursor: pointer;">
                        <div class="agenda-image">
                            <img src="asset2/WhatsApp-Image-2025-09-22-at-14.32.36.jpeg" alt="Festival Pinisi XV Tahun 2025">
                            <div class="news-overlay">
                                <i class="fas fa-eye"></i>
                                <span>Lihat Detail</span>
                            </div>
                        </div>
                        <div class="agenda-content">
                            <div class="news-meta">
                                <span class="news-date">
                                    <i class="fas fa-calendar"></i>
                                    23-25 Oktober 2025
                                </span>
                                <span class="news-category">Festival</span>
                            </div>
                            <h3 class="news-title">Festival Pinisi XV Tahun 2025</h3>
                            <p class="news-excerpt">
                                Festival Pinisi ke-15 kembali diselenggarakan dengan tema "Kolaborasi Budaya untuk Pariwisata Berkelanjutan" di Pantai Merpati, Ujung Bulu, Bulukumba...
                            </p>
                        </div>
                    </article>
                </div>
            </div>
        </section>
    </main>

    <!-- Additional Content: Announcements and FAQ -->
    <section class="info-announcements content-section">
        <div class="container">
            <div class="section-header">
                <h2>Pusat Informasi</h2>
                <p>Pengumuman terbaru dan informasi penting untuk warga dan pengunjung</p>
            </div>
            <div class="announcement-grid">
                <article class="announcement-card">
                    <div class="announcement-icon">
                        <i class="fas fa-bullhorn"></i>
                    </div>
                    <div class="announcement-content">
                        <h3>Rekrutmen Relawan Event</h3>
                        <p>Dibutuhkan relawan untuk Festival Budaya Bahari Maret 2025. Pendaftaran dibuka hingga 10 Feb 2025.</p>
                        <span class="announcement-meta"><i class="fas fa-calendar-day"></i> Diperbarui 2 hari lalu</span>
                    </div>
                </article>
                <article class="announcement-card">
                    <div class="announcement-icon">
                        <i class="fas fa-water"></i>
                    </div>
                    <div class="announcement-content">
                        <h3>Peringatan Gelombang Tinggi</h3>
                        <p>Pengunjung diimbau berhati-hati saat beraktivitas di pantai. Ikuti arahan petugas dan rambu keselamatan.</p>
                        <span class="announcement-meta"><i class="fas fa-shield-alt"></i> Keselamatan Wisata</span>
                    </div>
                </article>
                <article class="announcement-card">
                    <div class="announcement-icon">
                        <i class="fas fa-trash-alt"></i>
                    </div>
                    <div class="announcement-content">
                        <h3>Gerakan Bersih Pantai</h3>
                        <p>Ayo ikut aksi bersih pantai setiap Sabtu pagi. Titik kumpul di gerbang Pantai Mandala Ria pukul 07.30 WITA.</p>
                        <span class="announcement-meta"><i class="fas fa-map-marker-alt"></i> Pantai Mandala Ria</span>
                    </div>
                </article>
            </div>
        </div>
    </section>

    <section class="info-faq content-section">
        <div class="container">
            <div class="section-header">
                <h2>FAQ - Pertanyaan Umum</h2>
                <p>Informasi singkat seputar kunjungan dan layanan di Desa Lembanna</p>
            </div>
            <div class="faq-list">
                <div class="faq-item">
                    <button class="faq-question">
                        <span>Jam operasional kawasan wisata?</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <p>Kawasan wisata dibuka setiap hari pukul 06.00 - 18.00 WITA. Untuk kegiatan khusus (event) akan diumumkan terpisah.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">
                        <span>Apakah tersedia area parkir?</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <p>Tersedia area parkir kendaraan roda dua dan roda empat di pintu masuk utama. Ikuti arahan petugas untuk ketertiban.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question">
                        <span>Bagaimana cara menghubungi pengelola?</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="faq-answer">
                        <p>Silakan hubungi kantor desa pada hari kerja atau melalui media sosial resmi yang tertera pada bagian footer.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Wave Animation -->
    <div class="waves-section">
        <div class="wave-layer wave-1">
            <svg viewBox="0 0 1200 120" preserveAspectRatio="none">
                <path d="M0,120V46.29c47.79-22.2,103.59-32.17,158-28,70.36,5.37,136.33,33.31,206.8,37.5C438.64,87.57,512.34,66.33,583,47.95c69.27-18,138.3-24.88,209.4-13.08,36.15,6,69.85,17.84,104.45,29.34C989.49,95,1113,134.29,1200,67.53V120Z"></path>
            </svg>
        </div>
        <div class="wave-layer wave-2">
            <svg viewBox="0 0 1200 120" preserveAspectRatio="none">
                <path d="M0,120V104.19c13-21.11,27.64-41.05,47.69-56.24,51.72-39.22,117.31-39.49,176.89-20.07,31.15,10.15,60.09,26.07,89.67,39.8,40.92,19,84.73,46,130.83,49.67,36.26,2.85,70.9-9.42,98.6-31.56,31.77-25.39,62.32-62,103.63-73,40.44-10.79,81.35,6.69,119.13,24.28s75.16,39,116.92,43.05c59.73,5.85,113.28-22.88,168.9-38.84,30.2-8.66,59-6.17,87.09,7.5,22.43,10.89,48,26.93,60.65,49.24V120Z"></path>
            </svg>
        </div>
        <div class="wave-layer wave-3">
            <svg viewBox="0 0 1200 120" preserveAspectRatio="none">
                <path d="M0,120V114.37c149.93-53.37,314.09-65.69,475.83-36.94,43,7.64,84.23,20.12,127.61,26.46,59,8.63,112.48-12.24,165.56-35.4C827.93,42.78,886,24.76,951.2,30c86.53,7,172.46,45.71,248.8,84.81V120Z"></path>
            </svg>
        </div>
    </div>

    <!-- Footer -->
    <footer id="footer" class="site-footer">
        <div class="footer-container">
            <div class="footer-columns">
                <!-- Column 1: Profil Desa -->
                <div class="footer-column">
                    <h3>Profil Desa</h3>
                    <ul>
                        <li><a href="profil.html">Data Desa</a></li>
                        <li><a href="profil.html">Sejarah Desa</a></li>
                        <li><a href="profil.html">Visi-Misi Desa</a></li>
                        <li><a href="profil.html">Struktur Organisasi</a></li>
                    </ul>
                </div>
                <!-- Column 2: Wisata -->
                <div class="footer-column">
                    <h3>Wisata</h3>
                    <ul>
                        <li><a href="wisata.html">Objek Wisata</a></li>
                        <li><a href="wisata.html">Atraksi Wisata</a></li>
                        <li><a href="wisata.html">Akomodasi</a></li>
                        <li><a href="wisata.html">Kuliner</a></li>
                        <li><a href="wisata.html">Sewa Mobil Motor</a></li>
                    </ul>
                </div>
                <!-- Column 3: Informasi -->
                <div class="footer-column">
                    <h3>Informasi</h3>
                    <ul>
                        <li><a href="informasi.html">Agenda</a></li>
                        <li><a href="informasi.html">Berita</a></li>
                    </ul>
                </div>
                <!-- Column 4: Layanan -->
                <div class="footer-column">
                    <h3>Layanan</h3>
                    <ul>
                        <li><a href="layanan.html">Layanan Desa</a></li>
                        <li><a href="layanan.html">Produk</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Copyright &copy; 2024 Desa Lembanna</p>
            </div>
        </div>
    </footer>

    <nav class="mobile-bottom-nav">
        <div class="mobile-nav-container">
            <a href="index.html" class="mobile-nav-item" data-page="beranda">
                <div class="mobile-nav-icon">
                 <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"><path d="M160-200v-360q0-19 8.5-36t23.5-28l240-180q21-16 48-16t48 16l240 180q15 11 23.5 28t8.5 36v360q0 33-23.5 56.5T720-120H600q-17 0-28.5-11.5T560-160v-200q0-17-11.5-28.5T520-400h-80q-17 0-28.5 11.5T400-360v200q0 17-11.5 28.5T360-120H240q-33 0-56.5-23.5T160-200Z"/></svg>
                </div>
                <span class="mobile-nav-label">Beranda</span>
            </a>

            <a href="profil.html" class="mobile-nav-item" data-page="profil">
                <div class="mobile-nav-icon">
                    <svg viewBox="0 0 24 24">
                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                </div>
                <span class="mobile-nav-label">Profil Desa</span>
            </a>

            <a href="wisata.html" class="mobile-nav-item" data-page="wisata">
                <div class="mobile-nav-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"><path d="M480-80q-106 0-173-33.5T240-200q0-19 8.5-35t25.5-30q14-10 30.5-8t26.5 16q10 14 7.5 30.5T322-200q13 16 60 28t98 12q51 0 98-12t60-28q-14-10-16.5-26.5T629-257q10-14 26.5-16t30.5 8q17 14 25.5 30t8.5 35q0 53-67 86.5T480-80Zm0-139q-12 0-24-4t-22-12q-118-94-176-183.5T200-594q0-71 25.5-124.5T291-808q40-36 90-54t99-18q49 0 99 18t90 54q40 36 65.5 89.5T760-594q0 86-58 175.5T526-235q-10 8-22 12t-24 4Zm0-301q33 0 56.5-23.5T560-600q0-33-23.5-56.5T480-680q-33 0-56.5 23.5T400-600q0 33 23.5 56.5T480-520Z"/></svg>
                </div>
                <span class="mobile-nav-label">Wisata</span>
            </a>

            <a href="Layanan.html" class="mobile-nav-item" data-page="layanan">
                <div class="mobile-nav-icon">
                    <svg viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                </div>
                <span class="mobile-nav-label">Layanan</span>
            </a>

            <a href="informasi.html" class="mobile-nav-item" data-page="informasi">
                <div class="mobile-nav-icon">
                    <svg viewBox="0 0 24 24">
                        <path d="M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
                    </svg>
                </div>
                <span class="mobile-nav-label">Informasi</span>
            </a>
        </div>
    </nav>

    <script src="asset/js/responsive.js"></script>
    <script src="asset2/js/informasi.js"></script>
    <script>
        // Simple accordion for FAQ
        document.addEventListener('DOMContentLoaded', function() {
            const faqItems = document.querySelectorAll('.faq-item');
            faqItems.forEach(item => {
                const button = item.querySelector('.faq-question');
                if (button) {
                    button.addEventListener('click', () => {
                        // Close others (accordion behavior)
                        faqItems.forEach(i => { if (i !== item) i.classList.remove('active'); });
                        item.classList.toggle('active');
                    });
                }
            });
        });
    </script>
    <script src="https://cdn.jsdelivr.net/gh/michalsnik/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({
            duration: 800,
            once: true,
            offset: 100
        });
    </script>

    <script src="asset2/js/loading-screen.js"></script>
    <script src="asset2/js/auto-add-loading.js"></script>
    <script src="agenda-management.js"></script>
    <script>
        // Enhanced Integration with the agenda management system
        document.addEventListener('DOMContentLoaded', function() {
            
            // Global variables for better synchronization
            let agendaCache = [];
            const storageKey = 'enhanced_agenda_data';
            
            // Load agendas from the enhanced system into the display
            function loadAgendaDisplay(forceRefresh = false) {
                // Get fresh data from localStorage
                const data = localStorage.getItem(storageKey);
                const agendas = data ? JSON.parse(data) : [];
                
                // Update cache
                agendaCache = agendas;
                
                const agendaGrid = document.querySelector('.agenda-grid');
                if (!agendaGrid) return;
                
                // Store static cards first time only
                if (!window.staticAgendaCards) {
                    window.staticAgendaCards = Array.from(agendaGrid.querySelectorAll('[data-external-link]')).map(card => card.cloneNode(true));
                }
                
                // Clear grid
                agendaGrid.innerHTML = '';
                
                // Re-add static cards
                if (window.staticAgendaCards) {
                    window.staticAgendaCards.forEach(card => {
                        const clonedCard = card.cloneNode(true);
                        // Re-add event listeners for static cards
                        if (clonedCard.dataset.externalLink) {
                            clonedCard.addEventListener('click', () => {
                                window.open(clonedCard.dataset.externalLink, '_blank');
                            });
                        }
                        agendaGrid.appendChild(clonedCard);
                    });
                }
                
                // Filter and sort dynamic agendas
                const upcomingAgendas = agendas
                    .filter(agenda => {
                        const agendaDate = new Date(agenda.date);
                        const today = new Date();
                        today.setHours(0, 0, 0, 0);
                        return agendaDate >= today;
                    })
                    .sort((a, b) => new Date(a.date) - new Date(b.date))
                    .slice(0, 8); // Increase limit to 8 upcoming agendas
                
                // Add dynamic agendas from our system
                upcomingAgendas.forEach((agenda, index) => {
                    const agendaCard = createAgendaDisplayCard(agenda, index);
                    agendaGrid.appendChild(agendaCard);
                });
                
                // Show appropriate message if no agendas
                const totalCards = (window.staticAgendaCards?.length || 0) + upcomingAgendas.length;
                if (totalCards === 0) {
                    agendaGrid.innerHTML = `
                        <div class="no-agenda-message" style="grid-column: 1 / -1; text-align: center; padding: 4rem 2rem; background: #f8faff; border-radius: 20px; border: 2px dashed #ddd;">
                            <i class="fas fa-calendar-alt" style="font-size: 4rem; color: #ccc; margin-bottom: 1.5rem; opacity: 0.7;"></i>
                            <h3 style="color: #666; font-family: 'Playfair Display', serif; margin-bottom: 1rem; font-size: 1.5rem;">Belum Ada Agenda Terjadwal</h3>
                            <p style="color: #888; font-family: 'Inter', sans-serif; margin-bottom: 2rem;">Mulai tambahkan agenda kegiatan untuk informasi masyarakat</p>
                            <a href="agenda-input-system.html" class="btn-add-agenda" style="display: inline-flex; align-items: center; gap: 0.5rem; padding: 1rem 2rem; background: var(--primary-color); color: white; text-decoration: none; border-radius: 50px; font-family: 'Inter', sans-serif; font-weight: 600; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(19, 62, 135, 0.3);">
                                <i class="fas fa-plus"></i>
                                Tambah Agenda Pertama
                            </a>
                        </div>
                    `;
                    
                    // Add hover effect for the button
                    const btnAddAgenda = agendaGrid.querySelector('.btn-add-agenda');
                    if (btnAddAgenda) {
                        btnAddAgenda.addEventListener('mouseenter', function() {
                            this.style.transform = 'translateY(-2px)';
                            this.style.boxShadow = '0 6px 20px rgba(19, 62, 135, 0.4)';
                        });
                        btnAddAgenda.addEventListener('mouseleave', function() {
                            this.style.transform = 'translateY(0)';
                            this.style.boxShadow = '0 4px 12px rgba(19, 62, 135, 0.3)';
                        });
                    }
                }
                
                // Re-initialize AOS for new elements
                if (typeof AOS !== 'undefined') {
                    AOS.refresh();
                }
                
                console.log(`✅ Agenda display updated: ${upcomingAgendas.length} dynamic agendas loaded`);
            }
            
            // Create enhanced agenda display card
            function createAgendaDisplayCard(agenda, index) {
                const card = document.createElement('article');
                card.className = 'agenda-card dynamic-agenda';
                card.setAttribute('data-aos', 'fade-up');
                card.setAttribute('data-aos-delay', ((index + 2) * 100).toString());
                card.setAttribute('data-agenda-id', agenda.id);
                card.style.cursor = 'pointer';
                
                const dateObj = new Date(agenda.date);
                const day = dateObj.getDate();
                const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'Mei', 'Jun', 
                                   'Jul', 'Agu', 'Sep', 'Okt', 'Nov', 'Des'];
                const month = monthNames[dateObj.getMonth()];
                const year = dateObj.getFullYear();
                
                // Format date for display
                const formattedDate = dateObj.toLocaleDateString('id-ID', {
                    day: 'numeric',
                    month: 'long',
                    year: 'numeric'
                });
                
                // Calculate days until event
                const today = new Date();
                const timeDiff = dateObj.getTime() - today.getTime();
                const daysDiff = Math.ceil(timeDiff / (1000 * 3600 * 24));
                
                let statusBadge = '';
                if (daysDiff === 0) {
                    statusBadge = '<span class="event-status today">Hari Ini</span>';
                } else if (daysDiff === 1) {
                    statusBadge = '<span class="event-status tomorrow">Besok</span>';
                } else if (daysDiff <= 7) {
                    statusBadge = `<span class="event-status soon">${daysDiff} Hari Lagi</span>`;
                }
                
                card.innerHTML = `
                    <div class="agenda-date">
                        <span class="date-number">${day}</span>
                        <span class="date-month">${month}</span>
                        <span class="date-year">${year}</span>
                        ${statusBadge}
                    </div>
                    <div class="agenda-image">
                        <img src="${agenda.image || 'asset2/default-agenda.jpg'}" alt="${agenda.title}" loading="lazy" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjZjVmNWY1Ii8+CjxwYXRoIGQ9Ik0xNzUgMTI1SDIyNVYxNzVIMTc1VjEyNVoiIGZpbGw9IiNjY2MiLz4KPHBhdGggZD0iTTE1MCAyMDBIMjUwVjIxMEgxNTBWMjAwWiIgZmlsbD0iI2NjYyIvPgo8L3N2Zz4=';">
                        <div class="agenda-overlay">
                            <div class="overlay-content">
                                <i class="fas fa-eye"></i>
                                <span>Lihat Detail</span>
                            </div>
                        </div>
                    </div>
                    <div class="agenda-content">
                        <div class="news-meta">
                            <span class="news-date">
                                <i class="fas fa-calendar"></i>
                                ${formattedDate}
                            </span>
                            <span class="news-category">${agenda.category}</span>
                        </div>
                        <h3 class="news-title">${agenda.title}</h3>
                        <p class="news-excerpt">${agenda.description.substring(0, 120)}${agenda.description.length > 120 ? '...' : ''}</p>
                    </div>
                `;
                
                // Add click event for detail view
                card.addEventListener('click', (e) => {
                    showAgendaModal(agenda);
                });
                
                return card;
            }
            
            // Show agenda detail modal
            function showAgendaModal(agenda) {
                let modal = document.getElementById('agendaDetailModal');
                if (!modal) {
                    modal = createAgendaModal();
                }
                
                const dateObj = new Date(agenda.date);
                const formattedDate = dateObj.toLocaleDateString('id-ID', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                modal.querySelector('.modal-image').src = agenda.image;
                modal.querySelector('.modal-image').alt = agenda.title;
                modal.querySelector('.modal-title').textContent = agenda.title;
                modal.querySelector('.modal-category').textContent = agenda.category;
                modal.querySelector('.modal-date').textContent = formattedDate;
                modal.querySelector('.modal-description').textContent = agenda.description;
                
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
            
            // Create agenda detail modal
            function createAgendaModal() {
                const modal = document.createElement('div');
                modal.id = 'agendaDetailModal';
                modal.className = 'agenda-modal';
                
                modal.innerHTML = `
                    <div class="modal-overlay"></div>
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2>Detail Agenda</h2>
                            <button class="modal-close-btn">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="modal-image-container">
                                <img class="modal-image" src="" alt="" loading="lazy">
                            </div>
                            <div class="modal-info">
                                <div class="modal-meta">
                                    <span class="modal-category-wrapper">
                                        <i class="fas fa-tag"></i>
                                        <span class="modal-category"></span>
                                    </span>
                                    <span class="modal-date-wrapper">
                                        <i class="fas fa-calendar"></i>
                                        <span class="modal-date"></span>
                                    </span>
                                </div>
                                <h3 class="modal-title"></h3>
                                <p class="modal-description"></p>
                            </div>
                        </div>
                    </div>
                `;
                
                // Add modal styles if not already added
                if (!document.getElementById('agenda-modal-styles')) {
                    const style = document.createElement('style');
                    style.id = 'agenda-modal-styles';
                    style.textContent = `
                        .agenda-modal {
                            position: fixed;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            z-index: 9999;
                            opacity: 0;
                            visibility: hidden;
                            transition: all 0.3s ease;
                        }
                        
                        .agenda-modal.active {
                            opacity: 1;
                            visibility: visible;
                        }
                        
                        .modal-overlay {
                            position: absolute;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            background: rgba(0, 0, 0, 0.8);
                        }
                        
                        .modal-content {
                            position: absolute;
                            top: 50%;
                            left: 50%;
                            transform: translate(-50%, -50%);
                            background: white;
                            border-radius: 20px;
                            max-width: 800px;
                            width: 90%;
                            max-height: 90vh;
                            overflow-y: auto;
                        }
                        
                        .modal-header {
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                            padding: 1.5rem;
                            border-bottom: 1px solid #eee;
                        }
                        
                        .modal-header h2 {
                            font-family: 'Playfair Display', serif;
                            color: var(--primary-color);
                            margin: 0;
                        }
                        
                        .modal-close-btn {
                            background: none;
                            border: none;
                            font-size: 1.5rem;
                            cursor: pointer;
                            color: #999;
                            transition: color 0.3s ease;
                        }
                        
                        .modal-close-btn:hover {
                            color: var(--primary-color);
                        }
                        
                        .modal-body {
                            padding: 1.5rem;
                        }
                        
                        .modal-image-container {
                            margin-bottom: 1.5rem;
                        }
                        
                        .modal-image {
                            width: 100%;
                            height: 300px;
                            object-fit: cover;
                            border-radius: 12px;
                        }
                        
                        .modal-meta {
                            display: flex;
                            gap: 1rem;
                            margin-bottom: 1rem;
                            flex-wrap: wrap;
                        }
                        
                        .modal-category-wrapper,
                        .modal-date-wrapper {
                            display: flex;
                            align-items: center;
                            gap: 0.5rem;
                            color: var(--primary-color);
                            font-family: 'Inter', sans-serif;
                        }
                        
                        .modal-title {
                            font-size: 1.8rem;
                            font-family: 'Playfair Display', serif;
                            color: var(--primary-color);
                            margin-bottom: 1rem;
                        }
                        
                        .modal-description {
                            font-family: 'Inter', sans-serif;
                            line-height: 1.6;
                            color: #666;
                        }
                    `;
                    document.head.appendChild(style);
                }
                
                // Add event listeners
                const closeBtn = modal.querySelector('.modal-close-btn');
                const overlay = modal.querySelector('.modal-overlay');
                
                const closeModal = () => {
                    modal.classList.remove('active');
                    document.body.style.overflow = '';
                };
                
                closeBtn.addEventListener('click', closeModal);
                overlay.addEventListener('click', closeModal);
                
                // Close on Escape key
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape' && modal.classList.contains('active')) {
                        closeModal();
                    }
                });
                
                document.body.appendChild(modal);
                return modal;
            }
            
            // Global function to edit agenda (called from card buttons)
            window.editAgenda = function(agendaId) {
                // Store the agenda ID and redirect to management system
                localStorage.setItem('edit_agenda_id', agendaId);
                window.location.href = 'agenda-input-system.html?tab=add&edit=' + agendaId;
            };
            
            // Listen for storage changes (when data is updated in management system)
            window.addEventListener('storage', function(e) {
                if (e.key === storageKey) {
                    console.log('🔄 Storage change detected, refreshing agenda display...');
                    loadAgendaDisplay(true);
                }
            });

            // Listen for custom agenda data change events
            window.addEventListener('agendaDataChanged', function(e) {
                const { action, agenda, totalCount } = e.detail;
                console.log(`🔄 Custom event detected - ${action} agenda:`, agenda.title);
                loadAgendaDisplay(true);
                
                // Show notification toast
                showSyncNotification(action, agenda, totalCount);
            });
            
            // Listen for focus events to refresh data when returning from management system
            window.addEventListener('focus', function() {
                const currentData = localStorage.getItem(storageKey);
                const currentAgendas = currentData ? JSON.parse(currentData) : [];
                
                // Check if data has changed
                if (JSON.stringify(currentAgendas) !== JSON.stringify(agendaCache)) {
                    console.log('🔄 Data change detected on focus, refreshing agenda display...');
                    loadAgendaDisplay(true);
                }
            });
            
            // Auto-refresh every 30 seconds to ensure synchronization
            setInterval(() => {
                const currentData = localStorage.getItem(storageKey);
                const currentAgendas = currentData ? JSON.parse(currentData) : [];
                
                if (JSON.stringify(currentAgendas) !== JSON.stringify(agendaCache)) {
                    console.log('🔄 Auto-refresh: Data change detected, refreshing agenda display...');
                    loadAgendaDisplay(true);
                }
            }, 30000);
            
            // Show sync notification toast
            function showSyncNotification(action, agenda, totalCount) {
                // Remove any existing notification
                const existing = document.querySelector('.sync-notification');
                if (existing) existing.remove();
                
                const notification = document.createElement('div');
                notification.className = 'sync-notification';
                
                let actionText, icon;
                switch(action) {
                    case 'add':
                        actionText = 'Agenda baru ditambahkan';
                        icon = 'fas fa-plus-circle';
                        break;
                    case 'update':
                        actionText = 'Agenda diperbarui';
                        icon = 'fas fa-edit';
                        break;
                    case 'delete':
                        actionText = 'Agenda dihapus';
                        icon = 'fas fa-trash-alt';
                        break;
                    default:
                        actionText = 'Agenda disinkronkan';
                        icon = 'fas fa-sync-alt';
                }
                
                notification.innerHTML = `
                    <div class="notification-content">
                        <i class="${icon}"></i>
                        <div class="notification-text">
                            <div class="notification-title">${actionText}</div>
                            <div class="notification-subtitle">${agenda.title} • Total: ${totalCount} agenda</div>
                        </div>
                        <button class="notification-close">×</button>
                    </div>
                `;
                
                // Add notification styles
                if (!document.querySelector('#notification-styles')) {
                    const style = document.createElement('style');
                    style.id = 'notification-styles';
                    style.textContent = `
                        .sync-notification {
                            position: fixed;
                            top: 20px;
                            right: 20px;
                            background: linear-gradient(135deg, var(--primary-color), #608BC1);
                            color: white;
                            border-radius: 12px;
                            box-shadow: 0 8px 32px rgba(19, 62, 135, 0.3);
                            z-index: 10000;
                            max-width: 350px;
                            animation: slideInRight 0.3s ease-out;
                        }
                        
                        .notification-content {
                            display: flex;
                            align-items: center;
                            padding: 1rem 1.25rem;
                            gap: 0.75rem;
                        }
                        
                        .notification-content i {
                            font-size: 1.25rem;
                            opacity: 0.9;
                        }
                        
                        .notification-text {
                            flex: 1;
                            font-family: 'Inter', sans-serif;
                        }
                        
                        .notification-title {
                            font-weight: 600;
                            font-size: 0.9rem;
                            margin-bottom: 0.2rem;
                        }
                        
                        .notification-subtitle {
                            font-size: 0.75rem;
                            opacity: 0.8;
                            line-height: 1.3;
                        }
                        
                        .notification-close {
                            background: none;
                            border: none;
                            color: white;
                            font-size: 1.5rem;
                            cursor: pointer;
                            opacity: 0.7;
                            transition: opacity 0.2s ease;
                            padding: 0;
                            width: 24px;
                            height: 24px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                        }
                        
                        .notification-close:hover {
                            opacity: 1;
                        }
                        
                        @keyframes slideInRight {
                            from {
                                transform: translateX(100%);
                                opacity: 0;
                            }
                            to {
                                transform: translateX(0);
                                opacity: 1;
                            }
                        }
                        
                        @keyframes slideOutRight {
                            from {
                                transform: translateX(0);
                                opacity: 1;
                            }
                            to {
                                transform: translateX(100%);
                                opacity: 0;
                            }
                        }
                    `;
                    document.head.appendChild(style);
                }
                
                document.body.appendChild(notification);
                
                // Add close functionality
                const closeBtn = notification.querySelector('.notification-close');
                closeBtn.addEventListener('click', () => {
                    notification.style.animation = 'slideOutRight 0.3s ease-in forwards';
                    setTimeout(() => notification.remove(), 300);
                });
                
                // Auto-hide after 4 seconds
                setTimeout(() => {
                    if (document.contains(notification)) {
                        notification.style.animation = 'slideOutRight 0.3s ease-in forwards';
                        setTimeout(() => notification.remove(), 300);
                    }
                }, 4000);
            }
            
            // Initial load
            loadAgendaDisplay();
            
            console.log('✅ Enhanced agenda synchronization system initialized');
        });
    </script>

</body>
</html>